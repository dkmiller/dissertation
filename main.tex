\documentclass[phd,cornellheadings,draft]{cornell}

\usepackage{
  amsmath,
  amssymb,
  amsthm,
  bm,
  fixltx2e, % textsubscript
  hyperref,
  mathrsfs,
%  relsize, % mathsmaller
  stmaryrd, % llbracket
  thesis-style, % custom math commands
  tikz-cd
}
\usepackage[
  backend  = bibtex,    % use bibtex instead of biber
  sorting  = nyt,       % sort by (name, year, title)
  style    = alphabetic % citations look like [Har77]
]{biblatex}
\DeclareFieldFormat{postnote}{#1}
\DeclareFieldFormat{multipostnote}{#1}
\addbibresource{thesis-sources.bib}

\title{Title here}
\author{Daniel Miller}
\conferraldate{Month}{Year}


\begin{document}
\maketitle
\makecopyright

\begin{abstract}
Abstract here. 
\end{abstract}

\begin{biosketch}
Brief biographical sketch.
\end{biosketch}

\begin{dedication}
Dedication here.
\end{dedication}

\begin{acknowledgements}
Some acknowledgements.
\end{acknowledgements}

\contentspage

\normalspacing
\setcounter{page}{1}
\pagenumbering{arabic}
\pagestyle{cornell}


% ---------- begin main content ----------








\chapter{Foundations}





\section{Category of test objects}

The following is an exposition and explication of the theory outlined in 
\cite[VII\textsubscript{B}, \S 0--1]{sga3-1}. In particular, we will heavily 
use the notions of a pseudocompact ring, pseudocompact modules, etc. Let 
$\Lambda$ be a pseudocompact ring. Write $\Art_\Lambda$ for the opposite 
of the category of $\Lambda$-algebras which have finite length as 
$\Lambda$-modules. Given such a $\Lambda$-algebra $A$, write $X=\spf(A)$ for 
the corresponding object of $\Art_\Lambda$, and we put $A=\sO(X)$. 

\begin{lemma}
Let $\Lambda$ be a pseudocompact ring, $\Art_\Lambda$ as above. Then 
$\Art_\Lambda$ is closed under finite limits and colimits. 
\end{lemma}

Following Grothendieck, if $\cC$ is an arbitrary category, we write 
$\widehat\cC=\hom(\cC^\circ,\sets)$ for the category of contravariant functors 
$\cC\to \sets$. We regard $\cC$ as a full subcategory of $\widehat\cC$ via the 
Yoneda embedding, so for $X,Y\in \cC$, we write $X(Y) = \hom_\cC(Y,X)$. With 
this notation, the Yoneda Lemma states that $\hom_{\widehat\cC}(X,P) = P(X)$ 
for all $X\in \cC$. 

\begin{lemma}\label{thm:ind-object-def}
Let $\cX\in\widehat{\Art_\Lambda}$. Then $\cX$ is left exact if and only 
if there exists a filtered system $\{X_i\}_{i\in I}$ in $\cC_\Lambda$ together 
with a natural isomorphism $\cX(\cdot)\simeq \varinjlim X_i(\cdot)$. Write 
$\Ind(\Art_\Lambda)$ for the category of such functors. Then 
$\Ind(\Art_\Lambda)$ is closed under colimits, and the 
Yoneda embedding $\Art_\Lambda\monic\Ind(\Art_\Lambda)$ 
preserves filtered colimits.
\end{lemma}
\begin{proof}
This follows from the results of \cite[6.1]{kashiwara-schapira-2006}. 
\end{proof}

If $R$ is a pseudocompact $\Lambda$-algebra, write $\spf(R)$ for the object of 
$\widehat{\Art_\Lambda}$ defined by $\spf(R)(A)=\hom_{\cts/\Lambda}(R,A)$, 
the set of continuous $\Lambda$-algebra homomorphisms. 

\begin{lemma}
The funtor $\spf$ induces an (anti-)equivalence between the category of 
pseudocompact $\Lambda$-algebras and $\Ind(\Art_\Lambda)$. 
\end{lemma}
\begin{proof}
This is \cite[VII\textsubscript{B} 0.4.2 Prop.]{sga3-1}. 
\end{proof}

So $\Ind(\Art_\Lambda)$ is the category of pro-representable 
functors on finite length $\Lambda$-algebras. \emph{Warning}: in many papers, 
for example the foundational \cite{mazur-1995}, one reserves the term 
\emph{pro-representable} for functors of the form $\spf(R)$, where $R$ is 
\emph{noetherian}. We do not make this restriction. 

\begin{lemma}\label{thm:exponential-ideal}
The category $\Ind(\Art_\Lambda)$ is an exponential ideal in 
$\widehat{\Art_\Lambda}$. 
\end{lemma}
\begin{proof}
By this we mean the following. Let $\cX\in \Ind(\Art_\Lambda)$, 
$P\in \widehat{\Art_\Lambda}$. Then the functor $\cX^P$ defined by 
\[
	\cX^P(S) = \hom_{\widehat{\Art_\Lambda}_{/S}}(P_{/S},\cX_{/S}) 
\]
is also in $\Ind(\Art_\Lambda)$. Given the characterization of 
$\Ind(\Art_\Lambda)$ as left exact functors, this is easy to 
prove, see e.g.~\cite[4.2.3]{johnstone-2002}. 
\end{proof}

If $\cC$ is a category, we write $\Gp(\cC)$ for the category of group 
objects in $\cC$. 

\begin{corollary}\label{thm:framed-deformation}
Let $\Gamma\in \Gp(\widehat{\Art_\Lambda})$ and 
$\cG\in \Gp(\Ind(\Art_\Lambda))$, then the functor 
$[\Gamma,\cG]$ defined by 
\[
	[\Gamma,\cG](S) = \hom_{\Gp/S}(\Gamma_{/S},\cG_{/S}) 
\]
is in $\Ind(\Art_\Lambda)$. In particular, if $\Gamma$ is a 
profinite group, then the functor 
\[
	[\Gamma,\cG](S) = \hom_{\cts/\Gp}(\Gamma,\cG(S))
\]
is in $\Ind(\Art_\Lambda)$. 
\end{corollary}
\begin{proof}
The first claim follows easily from \ref{thm:exponential-ideal}. Just note 
that $[\Gamma,\cG]$ is the equalizer:
\[
\begin{tikzcd}
	{[\Gamma,\cG]} \ar[r]
		& \cG^\Gamma \ar[r, "m_\Gamma^\ast", shift left=.5ex] \ar[r, "m_{\cG\ast}"', shift right=.5ex]
		& \cG^{\Gamma\times \Gamma} ,
\end{tikzcd}
\]
that is, those $f\colon \Gamma\to \cG$ such that 
$f\circ m_\Gamma = m_\cG\circ(f\times f)$. The latter claim is just 
a special case. 
\end{proof}





\section{Quotients in the flat topology}

If $\Lambda$ is a pseudocompact ring, the category 
$\Ind(\Art_\Lambda)$ has nice ``geometric'' properties. However, 
for operations like taking quotients, we will embed it into the larger category 
$\Sh_\fl(\Art_\Lambda)$ of flat sheaves. We call a collection 
$\{U_i\to X\}$ of morphisms in $\Art_\Lambda$ a \emph{flat cover} if each 
ring map $\sO(X)\to \sO(U_i)$ is flat, and moreover 
$\sO(X)\to \prod \sO(U_i)$ is faithfully flat. By \cite[IV 6.3.1]{sga3-1}, this 
is a subcanonical Grothendieck topology on $\Art_\Lambda$. We call it the 
\emph{flat topology}, even though finite presentation comes for free because 
all the rings are finite length. 

\begin{lemma}
Let $\Sh_\fl(\Art_\Lambda)$ be the category of sheaves (of sets) on 
$\Art_\Lambda$ with respect to the flat topology. Then a presheaf 
$P\in \widehat{\Art_\Lambda}$ lies in $\Sh_\fl(\Art_\Lambda)$ if 
and only if $P(\coprod U_i) = \prod P(U_i)$ and moreover, whenever 
$U \to X$ is a flat cover where $\sO(U)$ and $\sO(X)$ are local rings, the 
sequence 
\[
\begin{tikzcd}
	P(X) \ar[r]
		& P(U) \ar[r, shift left=.5ex] \ar[r, shift right=.5ex]
		& P(U\times_X U) .
\end{tikzcd}
\]
is exact. Moreover, 
$\Ind(\Art_\Lambda)\subset \Sh_\fl(\Art_\Lambda)$. 
\end{lemma}
\begin{proof}
The first claim is the content of \cite[IV 6.3.1(ii)]{sga3-1}. For the second, 
note that any $\cX\in \Ind(\Art_\Lambda)$ will, by 
\ref{thm:ind-object-def}, convert (arbitrary) colimits into limits. Thus 
$\cX(\coprod U_i) = \prod \cX(U_i)$. If $U\to X$ is a flat cover, then by (loc.~cit.), $U\times_X U\rightrightarrows U\to X$ is a coequalizer diagram in 
$\Art_\Lambda$, hence 
$\cX(X)\to \cX(U)\rightrightarrows \cX(U\times_X U)$ is an equalizer. 
\end{proof}

Our main reason for introducing the category $\Sh_\fl(\Art_\Lambda)$ 
is that, as a (Grothendieck) topos, it is closed under arbitrary colimits. 
Recall that in an \emph{equivalence relation} in $\widehat{\Art_\Lambda}$ 
is a morphism $R\to X\times X$ such that, for all $S$, the map 
$R(S)\to X(S)\times X(S)$ is an injection whose image is an equivalence 
relation on $X(S)$. We define the quotient $X/R$ to be the coequalizer 
\[
\begin{tikzcd}
	R \ar[r, shift left=.5ex] \ar[r, shift right=.5ex]
		& X \ar[r]
		& X/R .
\end{tikzcd}
\]
By Giraud's Theorem \cite[App.]{maclane-moerdijk-1994}, for any 
$S\in \Art_\Lambda$, the natural map $X(S)/R(S)\to (X/R)(S)$ is injective. 
It will not be surjective in general. 

We let $\Sh_\fl(\Art_\Lambda)$ inherit definitions from 
$\Art_\Lambda$ as follows. If $P$ is a property of maps in 
$\Art_\Lambda$ (for example, ``flat,'' or ``smooth,'') and 
$f\colon X\to Y$ is a morphism in $\Sh_\fl(\Art_\Lambda)$, we say 
that $f$ has $P$ if for all $S\in \Art_\Lambda$ and $y\in Y(S)$, the 
pullback $X_S=X\times_Y S$ lies in $\Art_\Lambda$, and the pullback map 
$X_S\to S$ has property $P$. For example, if $X=\spf(R')$ and $Y=\spf(R)$, then 
$X\to Y$ has property $P$ if and only if for all finite length $A$ and 
continuous $\Lambda$-algebra maps $R\to A$, the induced map 
$A\to R'\otimes_R A$ has $P$.

\begin{theorem}\label{thm:quotients-ind}
Let $\cR\to \cX\times \cX$ be an equivalence relation in 
$\Ind(\Art_\Lambda)$ such that one of the maps $\cR\to \cX$ is 
flat. Then the quotient $\cX/\cR$ lies in $\Ind(\Art_\Lambda)$, and 
$\cX\to \cX/\cR$ is a flat cover. 
\end{theorem}
\begin{proof}
This is \cite[VII\textsubscript{B} 1.4]{sga3-1}. 
\end{proof}

By \cite[29.7]{matsumura-1989}, if $k$ is a field and $R$ is a complete regular 
local $k$-algebra, then $R\simeq k\pow{t_1,\dots,t_n}$. In particular, $R$ 
admits an augmentation $\epsilon\colon R\to k$. There is a general analogue of 
this result, but first we need a definition. 

\begin{definition}
A map $f\colon \cX\to \cY$ in $\Ind(\Art_\Lambda)$ is a 
\emph{residual isomorphism} if for all $S=\spf(k)\in \Art_\Lambda$ where 
$k$ is a field, the map $f\colon \cX(S)\to \cY(S)$ is a bijection. 
\end{definition}

\begin{lemma}\label{thm:smooth-section}
Let $f\colon \cX\to \cY$ be a smooth map in $\Ind(\Art_\Lambda)$ 
that is a residual isomorphism. Then $f$ admits a section. 
\end{lemma}
\begin{proof}
By \cite[VII\textsubscript{B} 0.1.1]{sga3-1}, it suffices to prove the result 
when $\cX=\spf(R')$, $\cY=\spf(R)$, for local $\Lambda$-algebras $R\to R'$ 
with the same residue field. Let $k=R/\fm_R \iso R'/\fm_{R'}$ be their common 
residue field. From the diagram 
\[
\begin{tikzcd}
	R' \ar[r, dotted] \ar[dr, two heads]
		& R \ar[d, two heads] \\
	R \ar[u] \ar[ur, equal] \ar[r, two heads]
		& k ,
\end{tikzcd}
\]
the definition of (formal) smoothness, and a limiting argument involving the 
finite length quotients $R/\fa$, we obtain the result. 
\end{proof}

\begin{corollary}\label{thm:quotients-good}
Let $\cR\to \cX\times \cX$ be an equivalence relation satisfying the hypotheses 
of \ref{thm:quotients-ind}. Suppose further that 
\begin{enumerate}
\item
One of the maps $\cR\to \cX$ is smooth, and 

\item
The projection $\cX\to \cX/\cR$ is a residual isomorphism. 
\end{enumerate}
Then $\cX\to \cX/\cR$ admits a section, so $\cX(S)/\cR(S)\iso (\cX/\cR)(S)$ 
for all $S\in \Art_\Lambda$. 
\end{corollary}
\begin{proof}
By \ref{thm:smooth-section}, it suffices to prove that $\cX\to \cX/\cR$ is 
smooth. By \cite[17.7.3(ii)]{ega4-4}, smoothness can be detected after flat 
descent. So base-change with respect to the projection $\cX\to \cX/\cR$. In the 
following commutative diagram 
\[
\begin{tikzcd}[column sep=small, row sep=small]
	\cR \ar[dr, equal] \ar[drr, bend left] \ar[ddr, bend right] \\
	& \cX\times_{\cX/\cR}\cX \ar[r] \ar[d]
		& \cX \ar[d] \\
	& \cX \ar[r]
		& \cX/\cR
\end{tikzcd}
\]
we can ensure the smoothness of $\cR\to \cX$ by our hypotheses. Since  
$\cX\to \cX/\cR$ is smooth after flat base-change, the original map is smooth. 
\end{proof}

\begin{example}
The hypothesis on residue fields in \ref{thm:quotients-good} is necessary. To 
see this, let $\Lambda=k$ be a field, $k\monic K$ a finite Galois extension 
with Galois group $G$. Then $G\times \spf(K)\rightrightarrows \spf(K)$ has 
quotient $\spf(k)$, but the map $\spf(K)(S)\to \spf(k)(S)$ is \emph{not} 
surjective for all $S\in \Art_k$, e.g.~it is not for $S=\spf(k)$. 
\end{example}

\begin{example}
The hypothesis of smoothness in \ref{thm:quotients-good} is necessary. To see 
this, let $k$ be a field of characteristic $p>0$. Then the formal additive 
group $\widehat\Ga=\spf(k\pow{t})$ has a subgroup $\balpha_p$ defined by 
\[
  \balpha_p(S) = \{s\in \sO(S)\colon s^p=0\} .
\]
The quotient $\widehat\Ga/\balpha_p$ has as affine coordinate ring 
$k\pow{t^p}$. In particular, the following sequence is exact in the flat 
topology:
\[
\begin{tikzcd}
	0 \ar[r]
		& \balpha_p \ar[r]
		& \widehat\Ga \ar[r, "(\cdot)^p"]
		& \widehat\Ga \ar[r]
		& 0 .
\end{tikzcd}
\]
It follows that 
$\balpha_p\times \widehat\Ga\rightrightarrows\widehat\Ga\xrightarrow{(\cdot)^p} \widehat\Ga$
is a coequalizer in $\Sh_\fl(\Art_k)$ satisfying all the hypothese 
of \ref{thm:quotients-good} except smoothness. And indeed, as one sees by 
letting $S=\spf(A)$ for any non-perfect $k$-algebra $A$, the map 
$(\cdot)^p\colon \widehat\Ga(S)\to \widehat\Ga(S)$ is \emph{not} surjective for 
all $S$. 
\end{example}





\section{Deformations of group representations}

Let $\Gamma\in \Gp(\widehat{\Art_\Lambda})$ and $\cG\in \Ind(\Art_\Lambda)$. By 
\ref{thm:framed-deformation}, the functor 
\[
  \Rep^\square(\Gamma,\cG)(S) = \hom_{\Gp/S}(\Gamma_S,\cG_S)
\]
is in $\Ind(\Art_\Lambda)$. We would like to define an ind-scheme 
$\Rep(\Gamma,\cG)$ as ``$\Rep^\square(\Gamma,\cG)$ modulo conjugation,'' but 
this requires some care. If $\zentrum(\cG)\ne 1$, then the conjugation action 
of $\cG$ on $\Rep^\square(\Gamma,\cG)$ will not be faithful, so the quotient 
will be badly behaved. We loosely follow \cite{tilouine-1996}. 





\section{Tangent spaces and obstruction theory}

For $S\in \Art_\Lambda$, let $\Exal_S$ be the category of square-zero 
thickenings of $S$. An object of $\Exal_S$ is a closed embedding 
$S\hookrightarrow T$ whose ideal of definition has square zero. 





\printbibliography
\end{document}
